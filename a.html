<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <script>
        function stringBytes(str) {
            let sum = 0;
            for (let i = 0; i < str.length; i++) {
                sum += str.charCodeAt(i);
            }
            return sum;
        }
        
        function generateToken(account, password, period) {
            const time = Math.floor(Date.now() / 1000) + period;
            const token = account + password + time.toString();
            const hash = crypto.createHash('md5').update(token).digest('hex');
            const tokenValue = Math.floor(stringBytes(hash) * stringBytes(account) / stringBytes(password)).toString() + "|" + time.toString();
            return tokenValue;
        }
        
        // 注意：在网页环境中使用crypto模块可能需要额外的设置，因为它通常不是浏览器环境的一部分。
        // 你可能需要使用Web Crypto API或者第三方库。
    </script>
</head>

<body>
    <h1>Token Generator</h1>
    <div>
        <label for="account">Account:</label>
        <input type="text" id="account" name="account">
    </div>
    <div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password">
    </div>
    <div>
        <label for="period">Period (seconds):</label>
        <input type="number" id="period" name="period" value="100">
    </div>
    <button onclick="generateAndDisplayToken()">Generate Token</button>
    <div id="token"></div>

    <script>
        function generateAndDisplayToken() {
            const account = document.getElementById('account').value;
            const password = document.getElementById('password').value;
            const period = parseInt(document.getElementById('period').value, 10);
            const token = generateToken(account, password, period);
            document.getElementById('token').innerText = 'Token: ' + token;
        }
    </script>
</body>

</html>